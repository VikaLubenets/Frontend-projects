(()=>{"use strict";var t={797:(t,e,n)=>{n.d(e,{Z:()=>h});var r=n(81),a=n.n(r),i=n(645),s=n.n(i),o=n(667),l=n.n(o),c=new URL(n(550),n.b),d=s()(a()),u=l()(c);d.push([t.id,`.track-wrapper{\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n    margin-bottom: 10px;\n}\n\n.car-track{\n    width: 100%;\n    border-bottom: 2px dotted white;\n    display: flex;\n    justify-content: space-between;\n}\n\n.car-buttons{\n    width: 20vw;\n    display: flex;\n    justify-content: flex-start;\n    gap: 10px;\n    align-items: center;\n    font-size: 12px;\n}\n\n.select-button,\n.remove-button{\n    background-color: rgb(239, 239, 199);\n    padding: 3px;\n    font-size: 10px;\n    width: 15%;\n}\n\n.select-button:hover,\n.remove-button:hover{\n    background-color: gray;\n    color: white;\n}\n\n.select-button:active,\n.remove-button:active,\n.select-button:focus,\n.remove-button:focus{\n    background-color: blue;\n    color: white;\n}\n\n.car-model{\n    color: yellow;\n    background-color: transparent;\n}\n\n.icon {\n    transform: translateY(10px);\n    transition: all ease;\n}\n\n.start-container{\n    width: 40%;\n    display: flex;\n    gap: 10px;\n    align-items: center;\n}\n\n.btns-container{\n    display: flex;\n}\n\n.button-start,\n.button-end{\n    width: 3vw;\n    border: 1px solid white;\n    cursor: pointer;\n    text-align: center;\n    height: 3vh;\n}\n\n.car{\n    width: 50px;\n    height: 50px;\n}\n\n.flag{\n    background-image: url(${u});\n    background-size: contain;\n    background-repeat: no-repeat;\n    width: 200px;\n}\n\n.animationDefault{\n    animation-direction: initial;\n}\n\n.animateCar{\n    animation-name: startMovement;\n    animation-timing-function: linear;\n    position: relative;\n    animation-fill-mode: forwards;\n}\n\n.animateCar.stop{\n    animation-play-state: paused\n}\n\n.disabled-button{\n    cursor:none;\n    background-color: rgb(81, 81, 81);\n    color: black;\n}\n\n@keyframes startMovement {\n    0% {\n        left: 0;\n      }\n    25% {\n        left: 50%;\n    }\n    50% {\n        left: 100%;\n    }\n    75% {\n        left: 150%;\n    }\n    100% {\n        left: 200%;\n    }\n}`,""]);const h=d},689:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(81),a=n.n(r),i=n(645),s=n.n(i)()(a());s.push([t.id,".garage-container{\n    background-color: rgb(25, 4, 67);\n    color: white;\n    overflow-x: hidden;\n    margin-bottom: 10px;\n}\n\n.garage-header{\n    font-size: 16px;\n    color: white;\n    height: 2vh;\n    padding: 10px;\n}\n\n.page-number{\n    font-size: 12px;\n    color: white;\n    height: 2vh;\n    padding-left: 10px;\n}\n\n.cars-container{\n    width: 100%;\n    padding: 10px;\n}\n\n.pageButtons-container{\n    width: 100%;\n    height: 2vh;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    gap: 5px;\n    margin-bottom: 10px;\n    padding-left: 10px;\n}\n\n.prev-button,\n.next-button {\n    width: 5vw;\n    height: 100%;\n    background-color: yellow;\n    color: black;\n    font-size: 12px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 3px;\n    cursor: pointer;\n}\n\n.prev-button:hover,\n.next-button:hover{\n    transform: translateY(2px);\n    background-color: gray;\n    color: white;\n    transition: all 0.2s ease;\n}",""]);const o=s},514:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(81),a=n.n(r),i=n(645),s=n.n(i)()(a());s.push([t.id,".menu-container{\n    background-color: pink;\n    width: 35%;\n    height: 20%;\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n    padding: 10px;\n    align-items: flex-start;\n    justify-content: center;\n    margin-left: 10px;\n}\n\n.input-container,\n.button-container{\n    width: 30vw;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: 5px;\n}\n\n.car-input{\n    width: 60%;\n}\n\n.button{\n    width: 20%;\n    background-color: white;\n    color: black;\n    font-size: 12px;\n    cursor: pointer;\n    text-align: center;\n    padding: 3px;\n}\n\n.color-car,\n.color-car-update{\n    width: 10%;\n    background-color: white;\n    color: black;\n    font-size: 12px;\n}\n\n.generate-button{\n    width: 40%;\n}\n\n.update-input{\n    background-color: gray;\n    width: 60%;\n}",""]);const o=s},348:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(81),a=n.n(r),i=n(645),s=n.n(i)()(a());s.push([t.id,".modal__cover{\n    width: 100%;\n    height: 100vh;\n    position: fixed;\n    background-color: rgba(0,0,0,0.5);\n    left: 0;\n    top: 0;\n    z-index: 3;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    visibility: hidden;\n    opacity: 0;\n    transition: all .3s ease;\n}\n\n.modal__cover.open{\n    visibility: visible;\n    opacity: 1;\n}\n\n.modal{\n    display: flex;\n    min-width: 300px;\n    min-height: 250px;\n    justify-content: center;\n    align-items: center;\n    max-width: 700px;\n    max-height: 90vh;\n    box-shadow: 0px 2px 35px 14px rgba(13, 13, 13, 0.04);\n    background: #FAFAFA;\n    border-radius: 9px;\n    gap: 29px;\n    position: fixed;\n    z-index: 2;\n    margin-top: 52px;\n    margin-right: 52px;\n    padding: 10px;\n    font-family: 'Georgia';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 15px;\n    line-height: 17px;\n    letter-spacing: 0.06em;\n    color: #000000;\n    margin-bottom: 40px;\n}\n\n.modal__content{\n    width: 80%;\n    height:  80%;\n}\n\n.modal__button {\n    width: 52px;\n    height: 52px;\n    border: 2px solid #F1CDB3;\n    border-radius: 100px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    top: -52px;\n    right: -42px;\n    background: transparent;\n}\n\n.modal__button:hover{\n    background: rgba(0,0,0,0.5);\n    cursor: pointer;\n    transition: .3s;\n}\n\n.modal__button:active{\n    background: #FF3CAC;\n    cursor: pointer;\n    transition: .3s;\n}\n\n.modal__icon > svg{\n    color: white;\n}",""]);const o=s},213:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(81),a=n.n(r),i=n(645),s=n.n(i)()(a());s.push([t.id,".table-winners{\n    border-spacing: 10px;\n}\n\nth{\n    background-color: yellow;\n}",""]);const o=s},431:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(81),a=n.n(r),i=n(645),s=n.n(i)()(a());s.push([t.id,".winners-container{\n    background-color: white;\n    color: black;\n    margin: 10px;\n    height: 70vh;\n}\n\n.winners-container .page-number{\n    color: black;\n}\n\n.winners-header{\n    margin-left: 10px;\n    margin-top: 10px;\n}\n\n.table-container{\n    margin: 10px;\n}",""]);const o=s},35:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(81),a=n.n(r),i=n(645),s=n.n(i)()(a());s.push([t.id,"body{\n    background-color: black;\n    height: 100vh;\n}\n\n.garage-button,\n.winners-button {\n    width: 7vw;\n    height: 5vh;\n    background-color: yellow;\n    color: black;\n    font-size: 14px;\n    padding: 3px;\n    cursor: pointer;\n    margin-bottom: 10px;\n    line-height: normal;\n    text-align: center;\n}\n\n.garage-button:hover,\n.winners-button:hover{\n    transform: translateY(2px);\n    background-color: gray;\n    color: white;\n    transition: all 0.2s ease;\n}\n\n.garage-button{\n    margin-right: 5px;\n}",""]);const o=s},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,a,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(s[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);r&&s[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),e.push(d))}},e}},667:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},81:t=>{t.exports=function(t){return t[1]}},187:t=>{var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function i(){i.init.call(this)}t.exports=i,t.exports.once=function(t,e){return new Promise((function(n,r){function a(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",a),n([].slice.call(arguments))}g(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,a)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function o(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function c(t,e,n,r){var a,i,s,c;if(o(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),s=i[e]),void 0===s)s=i[e]=n,++t._eventsCount;else if("function"==typeof s?s=i[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(a=l(t))>0&&s.length>a&&!s.warned){s.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=t,d.type=e,d.count=s.length,c=d,console&&console.warn&&console.warn(c)}return t}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},a=d.bind(r);return a.listener=n,r.wrapFn=a,a}function h(t,e,n){var r=t._events;if(void 0===r)return[];var a=r[e];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(a):m(a,a.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function a(i){r.once&&t.removeEventListener(e,a),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var a="error"===t,i=this._events;if(void 0!==i)a=a&&void 0===i.error;else if(!a)return!1;if(a){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var l=i[t];if(void 0===l)return!1;if("function"==typeof l)r(l,this,e);else{var c=l.length,d=m(l,c);for(n=0;n<c;++n)r(d[n],this,e)}return!0},i.prototype.addListener=function(t,e){return c(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return c(this,t,e,!0)},i.prototype.once=function(t,e){return o(e),this.on(t,u(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){return o(e),this.prependListener(t,u(this,t,e)),this},i.prototype.removeListener=function(t,e){var n,r,a,i,s;if(o(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(a=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){s=n[i].listener,a=i;break}if(a<0)return this;0===a?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,a),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var a,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(a=i[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},i.prototype.listeners=function(t){return h(this,t,!0)},i.prototype.rawListeners=function(t){return h(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},707:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(379),a=n.n(r),i=n(795),s=n.n(i),o=n(569),l=n.n(o),c=n(565),d=n.n(c),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(797),f={};f.styleTagTransform=m(),f.setAttributes=d(),f.insert=l().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=h(),a()(g.Z,f);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},826:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(379),a=n.n(r),i=n(795),s=n.n(i),o=n(569),l=n.n(o),c=n(565),d=n.n(c),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(689),f={};f.styleTagTransform=m(),f.setAttributes=d(),f.insert=l().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=h(),a()(g.Z,f);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},866:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(379),a=n.n(r),i=n(795),s=n.n(i),o=n(569),l=n.n(o),c=n(565),d=n.n(c),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(514),f={};f.styleTagTransform=m(),f.setAttributes=d(),f.insert=l().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=h(),a()(g.Z,f);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},149:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(379),a=n.n(r),i=n(795),s=n.n(i),o=n(569),l=n.n(o),c=n(565),d=n.n(c),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(348),f={};f.styleTagTransform=m(),f.setAttributes=d(),f.insert=l().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=h(),a()(g.Z,f);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},874:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(379),a=n.n(r),i=n(795),s=n.n(i),o=n(569),l=n.n(o),c=n(565),d=n.n(c),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(213),f={};f.styleTagTransform=m(),f.setAttributes=d(),f.insert=l().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=h(),a()(g.Z,f);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},17:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(379),a=n.n(r),i=n(795),s=n.n(i),o=n(569),l=n.n(o),c=n(565),d=n.n(c),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(431),f={};f.styleTagTransform=m(),f.setAttributes=d(),f.insert=l().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=h(),a()(g.Z,f);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},89:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(379),a=n.n(r),i=n(795),s=n.n(i),o=n(569),l=n.n(o),c=n(565),d=n.n(c),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(35),f={};f.styleTagTransform=m(),f.setAttributes=d(),f.insert=l().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=h(),a()(g.Z,f);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},s=[],o=0;o<t.length;o++){var l=t[o],c=r.base?l[0]+r.base:l[0],d=i[c]||0,u="".concat(c," ").concat(d);i[c]=d+1;var h=n(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var m=a(p,r);r.byIndex=o,e.splice(o,0,{identifier:u,updater:m,references:1})}s.push(u)}return s}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var i=r(t=t||[],a=a||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var o=n(i[s]);e[o].references--}for(var l=r(t,a),c=0;c<i.length;c++){var d=n(i[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=l}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},717:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=r(n(843)),i=r(n(527)),s=r(n(187)),o=r(n(842));e.default=class{constructor(){this.dataProvider=new a.default,this.emitter=new s.default,this.currentPageGarage=1,this.currentPageWinners=1,this.carsData=null,this.winnersData=null,this.view=null,this.controller=null,this.emitter.on("dataCarsUpdated",(()=>{this.updateApp().catch((t=>{console.error("Error with update view",t)}))})),this.emitter.on("dataWinnerUpdated",(()=>{this.updateAppWinners().catch((t=>{console.error("Error with update view",t)}))})),this.emitter.on("prevButtonGarageClicked",(()=>{this.prevPageGarage().catch((t=>{console.error("Error with prev page view",t)}))})),this.emitter.on("nextButtonGarageClicked",(()=>{this.nextPageGarage().catch((t=>{console.error("Error with next page view",t)}))})),this.emitter.on("prevButtonWinnersClicked",(()=>{this.prevPageWinners().catch((t=>{console.error("Error with prev page view",t)}))})),this.emitter.on("nextButtonWinnersClicked",(()=>{this.nextPageWinners().catch((t=>{console.error("Error with next page view",t)}))}))}async start(){this.carsData=await this.dataProvider.getCars(this.currentPageGarage,7),this.winnersData=await this.dataProvider.getWinners(this.currentPageWinners,10),this.view=new i.default(this.carsData,this.emitter,this.winnersData),this.view.createView(),this.controller=new o.default(this.dataProvider,this.emitter)}async updateApp(){try{this.carsData=await this.dataProvider.getCars(this.currentPageGarage,7),this.winnersData=await this.dataProvider.getWinners(this.currentPageWinners,10),null!==this.view&&this.view.updateView(this.carsData,this.currentPageGarage)}catch(t){console.error("Error with update view",t)}}async updateAppWinners(){try{this.carsData=await this.dataProvider.getCars(this.currentPageGarage,7),this.winnersData=await this.dataProvider.getWinners(this.currentPageWinners,10),null!==this.view&&this.view.updateWinnersView(this.winnersData,this.currentPageGarage)}catch(t){console.error("Error with update view",t)}}async nextPageGarage(){if(null!==this.carsData&&null!==this.view&&null!==this.winnersData){const t=Math.ceil(this.carsData.totalCount/7);this.currentPageGarage<t&&(this.currentPageGarage+=1,this.carsData=await this.dataProvider.getCars(this.currentPageGarage,7),this.view.updateView(this.carsData,this.currentPageGarage))}}async prevPageGarage(){null!==this.carsData&&null!==this.view&&null!==this.winnersData&&this.currentPageGarage>1&&(this.currentPageGarage-=1,this.carsData=await this.dataProvider.getCars(this.currentPageGarage,7),this.view.updateView(this.carsData,this.currentPageGarage))}async nextPageWinners(){if(null!==this.view&&null!==this.winnersData){const t=Math.ceil(this.winnersData.totalCount/10);this.currentPageWinners<t&&(this.currentPageWinners+=1,this.winnersData=await this.dataProvider.getWinners(this.currentPageWinners,10),this.view.updateWinnersView(this.winnersData,this.currentPageWinners))}}async prevPageWinners(){null!==this.view&&null!==this.winnersData&&this.currentPageWinners>1&&(this.currentPageWinners-=1,this.winnersData=await this.dataProvider.getWinners(this.currentPageWinners,10),this.view.updateWinnersView(this.winnersData,this.currentPageWinners))}}},842:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=r(n(28)),i=r(n(352));e.default=class{constructor(t,e){this.emitter=e,this.dataProvider=t,this.selectedCarId=null,this.animatedCars={},this.emitter.on("createCarClicked",this.handleCreateCar.bind(this)),this.emitter.on("removeCarClicked",this.handleRemoveCar.bind(this)),this.emitter.on("selectCarClicked",this.handleSelectCar.bind(this)),this.emitter.on("updateCarClicked",this.handleUpdateCar.bind(this)),this.emitter.on("generateCarsButtonClicked",this.handleGenerateCars.bind(this)),this.emitter.on("startEngineClicked",this.handleStartEngine.bind(this)),this.emitter.on("stopEngineClicked",this.handleStopEngine.bind(this)),this.emitter.on("raceButtonClicked",this.handleRace.bind(this)),this.emitter.on("resetButtonClicked",this.handleReset.bind(this))}handleCreateCar(t,e){Promise.resolve(this.dataProvider.createCar(t,e)).then((()=>{console.log("Car created successfully");const t=document.querySelector(".car-input"),e=document.querySelector(".color-car");null!==t&&(t.value=""),null!==e&&(e.value="white"),this.emitter.emit("dataCarsUpdated")})).catch((t=>{console.error("Failed to create car:",t)}))}handleRemoveCar(t){Promise.resolve().then((async()=>{const e=(await this.dataProvider.getWinners()).winnersData.find((e=>e.id===t));null!=e&&await this.dataProvider.deleteWinner(e.id),await this.dataProvider.deleteCar(t),console.log("Car and its winners data deleted successfully"),this.emitter.emit("dataCarsUpdated")})).catch((t=>{console.error("Failed to delete car:",t)}))}handleSelectCar(t){console.log("handleSelector is working"),Promise.resolve(this.dataProvider.getCar(t)).then((t=>{const e=document.querySelector(".update-input"),n=document.querySelector(".color-car-update");null!==e&&(e.value=t.name),null!==n&&(n.value=t.color),this.selectedCarId=t.id,console.log("Car selected successfully")})).catch((t=>{console.error("Failed to select car:",t)}))}handleUpdateCar(t,e){null!==this.selectedCarId?Promise.resolve(this.dataProvider.updateCar(this.selectedCarId,t,e)).then((()=>{const t=document.querySelector(".update-input"),e=document.querySelector(".color-car-update");null!==t&&(t.value=""),null!==e&&(e.value="white"),this.emitter.emit("dataCarsUpdated")})).catch((t=>{console.error("Failed to update car:",t)})):console.error("No car selected")}handleGenerateCars(){const t=["Ford","Tesla","Mersedes","Nissan","Toyota","Kia","Mazda","BMW","Audi","Porche","Asten Martin","Ferrari","Hammer","Lexus","Subaru"],e=["911","modal Y","modal X","M3","Supra","R8","GT","RX-8","Eclipse","Viper","Mustang","Rio","GTO","X5","GT 500"],n=()=>{const n=Math.floor(Math.random()*t.length),r=Math.floor(Math.random()*e.length);return`${t[n]} ${e[r]}`},r=()=>{let t="#";for(let e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t};let a=100;for(;a>0;){const t={name:n(),color:r()};this.handleCreateCar(t.name,t.color),a--}}handleStartEngine(t,e){Promise.resolve(this.dataProvider.startStopCarEngine(t,e)).then((async e=>{try{const n=new a.default(t,this.emitter,e.velocity,e.distance);this.animatedCars[t]=n,n.animateCar(),await this.dataProvider.switchEngineToDriveMode(t)}catch(e){if(console.error("Failed to start car engine:",e),e instanceof Error&&"Car has been stopped suddenly. It's engine was broken down."===e.message){const e=this.animatedCars[t];void 0!==e&&e.stopCarAfterEngineBroken()}}})).catch((t=>{console.error("Failed to start car engine:",t)}))}handleStopEngine(t,e){Promise.resolve(this.dataProvider.startStopCarEngine(t,e)).then((()=>{const e=this.animatedCars[t];void 0!==e&&e.resetCarPosition(),console.log("Car engine has been stopped successfully")})).catch((t=>{console.error("Failed to stop car engine:",t)}))}handleRace(){Promise.resolve(this.dataProvider.getCars()).then((t=>{this.emitter.once("carAnimationEnds",this.handleWinRace.bind(this));for(const e of t.garage.garage)this.handleStartEngine(e.id,"started")})).catch((t=>{console.error("Failed to start race:",t)}))}handleReset(){Promise.resolve(this.dataProvider.getCars()).then((t=>{for(const e of t.garage.garage)this.handleStopEngine(e.id,"stopped")})).catch((t=>{console.error("Failed to stop race:",t)}))}handleWinRace(t,e){let n;Promise.resolve(this.dataProvider.getCar(t)).then((t=>{n=t.name,(new i.default).draw(n,e)})).then((async()=>await this.dataProvider.getWinners())).then((async n=>{const r=n.winnersData.find((e=>e.id===t));if(void 0!==r){const n=e<=r.time?r.time:e;await this.dataProvider.updateWinner(t,r.wins+1,n)}else{const n={id:t,wins:1,time:e};await this.dataProvider.createWinner(n),this.emitter.emit("dataWinnerUpdated")}})).catch((t=>{console.error("Failed to handle race win:",t)}))}}},843:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(604);e.default=class{constructor(){this.baseUrl="http://localhost:3000"}async getCars(t,e){let n=`${this.baseUrl}${r.Endpoint.Garage}`;return void 0!==t&&void 0!==e&&(n+=`?_page=${t}&_limit=${e}`),await fetch(n).then((async t=>{if(!t.ok)throw new Error("Failed to fetch cars");const n=Number(t.headers.get("X-Total-Count")),r=await t.json();let a;return void 0!==e&&(a=Math.ceil(n/e)),{garage:{garage:r},totalCount:n,totalPages:a}})).catch((t=>{throw console.error(t),t}))}async getCar(t){const e=`${this.baseUrl}${r.Endpoint.Garage}/${t}`;return await fetch(e).then((async t=>{if(404===t.status)throw new Error("There is no such car");if(!t.ok)throw new Error("Failed to fetch car");return await t.json()})).catch((t=>{throw console.error(t),t}))}async createCar(t,e){const n=`${this.baseUrl}${r.Endpoint.Garage}`,a={name:t,color:e};return await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((async t=>await t.json())).catch((t=>{throw console.error(t),t}))}async deleteCar(t){const e=`${this.baseUrl}${r.Endpoint.Garage}/${t}`;await fetch(e,{method:"DELETE"}).then((t=>{if(!t.ok)throw new Error("Failed to delete car")})).catch((t=>{throw console.error(t),t}))}async updateCar(t,e,n){const a=`${this.baseUrl}${r.Endpoint.Garage}/${t}`,i={name:e,color:n};return await fetch(a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((async t=>{if(404===t.status)throw new Error("There is no such car");if(!t.ok)throw new Error("Failed to update car");return await t.json()})).catch((t=>{throw console.error(t),t}))}async startStopCarEngine(t,e){const n=`${this.baseUrl}${r.Endpoint.Engine}?id=${t}&status=${e}`;return await fetch(n,{method:"PATCH"}).then((async t=>{if(404===t.status)throw new Error("Car with such id was not found in the garage.");if(400===t.status)throw new Error('Wrong parameters: "id" should be any positive number, "status" should be "started", "stopped" or "drive"');return await t.json()})).catch((t=>{throw console.error(t),t}))}async switchEngineToDriveMode(t,e="drive"){const n=`${this.baseUrl}${r.Endpoint.Engine}?id=${t}&status=${e}`;return await fetch(n,{method:"PATCH"}).then((async t=>{if(404===t.status)throw new Error("Car with such id was not found in the garage.");if(400===t.status)throw new Error('Wrong parameters: "id" should be any positive number, "status" should be "started", "stopped" or "drive"');if(429===t.status)throw new Error("Drive already in progress. You can't run drive for the same car twice while it's not stopped.");if(500===t.status)throw new Error("Car has been stopped suddenly. It's engine was broken down.");return await t.json()})).catch((t=>{throw console.error(t),t}))}async getWinners(t,e,n,a){let i=`${this.baseUrl}${r.Endpoint.Winners}`;const s=[];return void 0!==t&&void 0!==e&&(s.push(`_page=${t}`),s.push(`_limit=${e}`)),void 0!==n&&s.push(`_sort=${n}`),void 0!==a&&s.push(`_order=${a}`),s.length>0&&(i+=`?${s.join("&")}`),await fetch(i).then((async t=>{if(!t.ok)throw new Error("Failed to fetch winners");const e=Number(t.headers.get("X-Total-Count"));return{winnersData:await t.json(),totalCount:e}})).catch((t=>{throw console.error(t),t}))}async getWinner(t){const e=`${this.baseUrl}${r.Endpoint.Winners}/${t}`;return await fetch(e).then((async t=>{if(404===t.status)throw new Error("There is no such winner");return await t.json()})).catch((t=>{throw console.error(t),t}))}async createWinner(t){const e=`${this.baseUrl}${r.Endpoint.Winners}`;return await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((async t=>{if(500===t.status)throw new Error("Error: Insert failed, duplicate id");return await t.json()})).catch((t=>{throw console.error(t),t}))}async deleteWinner(t){const e=`${this.baseUrl}${r.Endpoint.Winners}/${t}`;await fetch(e,{method:"DELETE"}).then((t=>{if(404===t.status)throw new Error("NOT FOUND");if(!t.ok)throw new Error("Failed to delete winner")})).catch((t=>{throw console.error(t),t}))}async updateWinner(t,e,n){const a=`${this.baseUrl}${r.Endpoint.Winners}/${t}`,i={wins:e,time:n};return await fetch(a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((async t=>{if(404===t.status)throw new Error("There is no such winner");if(!t.ok)throw new Error("Failed to update winner");return await t.json()})).catch((t=>{throw console.error(t),t}))}}},527:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=r(n(326)),i=r(n(531));e.default=class{constructor(t,e,n){this.dataGarage=t,this.dataWinners=n,this.emitter=e,this.garageView=new a.default(this.dataGarage,this.emitter),this.winnersView=new i.default(this.dataWinners,this.dataGarage,this.emitter),this.garageElement=this.garageView.getHTMLElement(),this.winnersElement=this.winnersView.getHTMLElement(),this.garageContainer=null}createView(){const t=document.querySelector("body"),e=document.createDocumentFragment();if(null!==t){const n=document.createElement("button");n.textContent="Garage",n.classList.add("garage-button"),n.addEventListener("click",(()=>{this.openGarageView()})),e.appendChild(n);const r=document.createElement("button");r.textContent="Winners",r.classList.add("winners-button"),r.addEventListener("click",(()=>{this.openWinnersView()})),e.appendChild(r),null===this.garageContainer?(this.garageContainer=document.createElement("div"),this.garageContainer.classList.add("garage-container"),e.append(this.garageContainer)):this.garageContainer.innerHTML="",null!==this.garageElement&&this.garageContainer.append(this.garageElement),null!==this.winnersElement&&(e.append(this.winnersElement),this.winnersElement.style.display="none"),t.append(e),this.garageView.drawGarageContainer(),this.winnersView.drawWinnersContainer()}}updateView(t,e){if(this.dataGarage=t,this.garageView.updateGarageData(this.dataGarage),null!==this.garageElement){const t=document.querySelector(".garage-container");if(null!==t)for(;null!==t.firstChild;)t.removeChild(t.firstChild)}this.garageView.drawGarageContainer(e)}updateWinnersView(t,e){if(this.dataWinners=t,this.winnersView.updateWinnersData(this.dataGarage,this.dataWinners),null!==this.winnersElement){const t=document.querySelector(".winners-container");if(null!==t)for(;null!==t.firstChild;)t.removeChild(t.firstChild)}this.winnersView.drawWinnersContainer(e)}openGarageView(){const t=document.querySelector(".garage-container"),e=document.querySelector(".winners-container");null!==t&&null!==e&&(t.style.display="block",e.style.display="none")}openWinnersView(){const t=document.querySelector(".garage-container"),e=document.querySelector(".winners-container");null!==t&&null!==e&&(t.style.display="none",e.style.display="block")}}},682:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=r(n(785));n(707);const i=r(n(222));class s extends a.default{constructor(t,e){super({tag:"div",classes:["track-wrapper"]}),this.data=t,this.drawCarTrack(),this.emitter=e}drawCarTrack(){this.createButtonsLine(this.data.name);const t=this.createStartEndBtns(),e=this.createCarSvg(this.data.color,this.data.id),n=new i.default({tag:"div",classes:["car-track"]}).getElement(),r=new i.default({tag:"div",classes:["start-container"]}).getElement();null!==r&&null!==t&&null!==e&&r.append(t,e);const a=new i.default({tag:"div",classes:["flag"],textContent:""}).getElement();if(null!==n&&null!==r&&null!==a){n.append(r,a);const t=this.getHTMLElement();null!==t&&t.append(n)}}createButtonsLine(t){const e=new i.default({tag:"div",classes:["car-buttons"]}).getElement(),n={tag:"div",classes:["button","select-button"],textContent:"select",callback:()=>this.emitter.emit("selectCarClicked",this.data.id)},r=new i.default(n).getElement(),a={tag:"div",classes:["button","remove-button"],textContent:"remove",callback:()=>this.emitter.emit("removeCarClicked",this.data.id)},s=new i.default(a).getElement(),o={tag:"div",classes:["car-model"],textContent:`${t}`},l=new i.default(o).getElement();if(null!==e&&null!==r&&null!==s&&null!==l){e.append(r,s,l);const t=this.getHTMLElement();null!==t&&t.append(e)}}createStartEndBtns(){const t=new i.default({tag:"div",classes:["btns-container"]}).getElement(),e={tag:"div",classes:["button-start"],textContent:"A",callback:t=>{this.updateStartEndButtons(t)},attributes:{"data-id":this.data.id.toString()}},n=new i.default(e).getElement(),r={tag:"div",classes:["button-end","disabled-button"],textContent:"B",callback:t=>{this.updateStartEndButtons(t)},attributes:{"data-id":this.data.id.toString()}},a=new i.default(r).getElement();return null!==t&&null!==n&&null!==a?(t.append(n,a),t):null}createCarSvg(t,e){const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("width","50"),n.setAttribute("height","50"),n.setAttribute("class","icon"),n.setAttribute("viewBox","0 0 1024 1024"),n.setAttribute("id",`car-${e}`);const r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("fill","#AEBCC3"),r.setAttribute("d","M766.976 508.736c80.576 0 152.448 32.128 199.232 82.176");const a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("fill",t),a.setAttribute("d","M64.704 684.992c10.816 19.2 32.064 32.192 56.576 32.192h784.64c35.84 0 64.832-27.648 64.832-61.76v-17.408h-36.608a15.744 15.744 0 0 1-16.064-15.296v-71.808a277.568 277.568 0 0 0-150.144-44.16h1.6l-55.04-.256c-53.632-115.2-157.504-210.752-294.208-210.752-136.512 0-251.008 89.728-282.176 210.688H121.28c-35.456 0-56.128 27.392-56.128 61.184");const i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("fill","#F5BB1D"),i.setAttribute("d","M64.704 654.464h13.76a39.168 39.168 0 0 0 40.064-38.272v-17.6c0-21.12-17.92-38.208-40.064-38.208H65.088");const s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("fill","#455963"),s.setAttribute("d","M160 684.992a101.632 96.832 0 1 0 203.264 0 101.632 96.832 0 1 0-203.264 0Z");const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("fill","#AEBCC3"),o.setAttribute("d","M218.88 684.992a42.752 40.768 0 1 0 85.504 0 42.752 40.768 0 1 0-85.504 0Z");const l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("fill","#455963"),l.setAttribute("d","M652.032 684.992a101.568 96.832 0 1 0 203.136 0 101.568 96.832 0 1 0-203.136 0Z");const c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("fill","#AEBCC3"),c.setAttribute("d","M710.912 684.992a42.752 40.768 0 1 0 85.504 0 42.752 40.768 0 1 0-85.504 0Z");const d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("fill","#F5BB1D"),d.setAttribute("d","M966.272 591.104v-.192a257.92 257.92 0 0 0-48.192-40v71.808c0 8.448 7.232 15.296 16.064 15.296h36.608v-42.304l-4.48-4.608z");const u=document.createElementNS("http://www.w3.org/2000/svg","path");return u.setAttribute("fill","#631536"),u.setAttribute("d","M405.568 335.616c-104.896 6.336-191.296 76.8-216.64 170.816h216.64V335.616zm40.128 170.816h216.64c-41.216-86.848-117.12-159.616-216.64-170.048v170.048z"),n.append(r,a,i,s,o,l,c,d,u),n}updateStartEndButtons(t){const e=t.target;if(null==e)return;const n=e.closest(".track-wrapper");if(null==n)return;const r=e.dataset.id;if(null!=r){const t=n.querySelector(`[data-id="${r}"].button-start`),a=n.querySelector(`[data-id="${r}"].button-end`);null!=t&&null!=a&&(e.classList.contains("button-start")?(t.classList.add("disabled-button"),a.classList.remove("disabled-button"),this.emitter.emit("startEngineClicked",this.data.id,"started")):e.classList.contains("button-end")&&(a.classList.add("disabled-button"),t.classList.remove("disabled-button"),this.emitter.emit("stopEngineClicked",this.data.id,"stopped")))}}}e.default=s},28:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t,e,n,r){this.carElement=null,this.speed=0,this.carElement=document.getElementById(`car-${t}`),this.animationTimeout=null,this.emitter=e,this.id=t,null!=n&&null!=r&&(this.speed=Number((r/n/1e3).toFixed(2)))}animateCar(t=this.speed){null!==this.carElement&&(this.carElement.classList.remove("animationDefault"),this.carElement.classList.add("animateCar"),this.carElement.style.animationDuration=`${t}s`,this.animationTimeout=setTimeout((()=>{this.stopCarAnimation(),this.emitter.emit("carAnimationEnds",this.id,t)}),1e3*t))}stopCarAnimation(){null!==this.animationTimeout&&null!==this.carElement&&(clearTimeout(this.animationTimeout),this.animationTimeout=null)}stopCarAfterEngineBroken(){null!==this.animationTimeout&&null!==this.carElement&&(this.carElement.classList.add("stop"),clearTimeout(this.animationTimeout),this.animationTimeout=null)}resetCarPosition(){null!==this.carElement&&(this.carElement.classList.add("animationDefault"),this.carElement.classList.remove("animateCar"),this.carElement.classList.remove("stop"))}}},326:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=r(n(836)),i=r(n(785));n(826);const s=r(n(682));class o extends i.default{constructor(t,e){super({tag:"div",classes:["garage-container"],textContent:"text",parentSelector:"body"}),this.emitter=e,this.menu=new a.default(this.emitter).getHTMLElement(),this.data=t,this.cars=this.data.garage.garage}drawGarageContainer(t=1){const e=document.querySelector(".garage-container");if(null!==e&&null!==this.menu){e.append(this.menu);const n=document.createElement("header");n.classList.add("garage-header"),n.textContent=`Garage: ${this.data.totalCount}`,e.append(n);const r=document.createElement("h2");r.classList.add("page-number"),r.textContent=`Page: ${t}`,e.append(r);const a=document.createElement("div");a.classList.add("cars-container"),e.append(a);for(const t of this.cars){const e=new s.default(t,this.emitter).getHTMLElement();null!==e&&a.append(e)}const i=document.createElement("div");i.classList.add("pageButtons-container"),e.append(i);const o=document.createElement("div");o.classList.add("prev-button"),o.textContent="prev",o.addEventListener("click",(()=>this.emitter.emit("prevButtonGarageClicked",t))),i.append(o);const l=document.createElement("div");l.classList.add("next-button"),l.textContent="next",l.addEventListener("click",(()=>this.emitter.emit("nextButtonGarageClicked",t))),i.append(l)}}updateGarageData(t){this.data=t,this.cars=this.data.garage.garage}}e.default=o},836:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=r(n(785));n(866);const i=r(n(222));class s extends a.default{constructor(t){super({tag:"div",classes:["menu-container"],textContent:"text"}),this.emitter=t,this.createCarCreationView(),this.createCarUpdateView(),this.createButtonsView()}createCarCreationView(){const t=new i.default({tag:"div",classes:["input-container"],parentSelector:".menu-container"}).getElement(),e=new i.default({tag:"input",classes:["car-input"],parentSelector:".input-container"}).getElement(),n=new i.default({tag:"input",classes:["color-car","button"],textContent:"color"}).getElement();null!==n&&n.setAttribute("type","color");const r={tag:"div",classes:["button"],textContent:"create",callback:()=>this.emitter.emit("createCarClicked",e.value,n.value)},a=new i.default(r).getElement();if(null!==t&&null!==e&&null!==n&&null!==a){t.append(e,n,a);const r=this.getHTMLElement();null!==r&&r.append(t)}}createCarUpdateView(){const t=new i.default({tag:"div",classes:["input-container"],parentSelector:".menu-container"}).getElement(),e=new i.default({tag:"input",classes:["update-input"],parentSelector:".input-container"}).getElement(),n=new i.default({tag:"input",classes:["color-car-update","button"],textContent:"color"}).getElement();null!==n&&n.setAttribute("type","color");const r={tag:"div",classes:["button"],textContent:"update",callback:()=>this.emitter.emit("updateCarClicked",e.value,n.value)},a=new i.default(r).getElement();if(null!==t&&null!==e&&null!==n&&null!==a){t.append(e,n,a);const r=this.getHTMLElement();null!==r&&r.append(t)}}createButtonsView(){const t=new i.default({tag:"div",classes:["button-container"],parentSelector:".menu-container"}).getElement(),e={tag:"div",classes:["button","race-button"],textContent:"race",callback:()=>this.emitter.emit("raceButtonClicked")},n=new i.default(e).getElement(),r={tag:"div",classes:["button","race-button"],textContent:"reset",callback:()=>this.emitter.emit("resetButtonClicked")},a=new i.default(r).getElement(),s={tag:"div",classes:["button","generate-button"],textContent:"generate cars",callback:()=>this.emitter.emit("generateCarsButtonClicked")},o=new i.default(s).getElement();if(null!==t&&null!==n&&null!==a&&null!==o){t.append(n,a,o);const e=this.getHTMLElement();null!==e&&e.append(t)}}}e.default=s},352:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),n(149),e.default=class{constructor(){this.handleCoverClick=t=>{t.target===this.modalCover&&t.target!==this.modalContent&&this.closeModal()},this.handleCloseButtonClick=t=>{const e=t.target;e!==this.closeButton&&e.closest(".modal__button")!==this.closeButton||this.closeModal()},this.modalCover=null,this.closeButton=null,this.modalContent=null}draw(t,e){const n=document.createDocumentFragment();this.modalCover=document.createElement("div"),this.modalCover.classList.add("modal__cover"),this.closeButton=document.createElement("button"),this.closeButton?.classList.add("modal__button"),this.modalContent=document.createElement("div"),this.modalContent.classList.add("modal"),this.modalCover.append(this.modalContent),this.modalCover.classList.add("open"),this.addEventsListeners(),this.modalContent.textContent=`Congratulations! The car ${t} has won the game in ${e} seconds`,this.modalContent.append(this.closeButton),n.append(this.modalCover);const r=document.querySelector("body");null!==r&&r.append(n)}addEventsListeners(){null!==this.modalCover&&null!==this.closeButton&&(this.modalCover.addEventListener("click",this.handleCoverClick),this.closeButton.addEventListener("click",this.handleCloseButtonClick))}removeEventsListeners(){null!==this.modalCover&&null!==this.closeButton&&(this.modalCover.removeEventListener("click",this.handleCoverClick),this.closeButton.removeEventListener("click",this.handleCloseButtonClick))}closeModal(){null!==this.modalCover&&(this.modalCover.classList.remove("open"),this.removeEventsListeners())}}},294:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=n(604);n(874);const i=r(n(682));e.default=class{constructor(t,e,n){this.carData=t,this.winnersData=e,this.emitter=n,this.element=this.drawTable()}drawTable(){const t=document.createElement("table");t.classList.add("table-winners");const e=this.getWinnersDataForTable(),n=document.createElement("tr");for(const t of Object.keys(e[0])){const e=document.createElement("th");e.textContent=a.TableColName[t],n.append(e)}t.append(n);for(const n of e){const e=document.createElement("tr");for(const t of Object.keys(n)){const r=document.createElement("td");"car"===t?r.appendChild(n[t]):r.textContent=n[t],e.append(r)}t.append(e)}return t}getElement(){if(null!==this.element)return this.element}getCarNameById(t){const e=this.carData.find((e=>e.id===t));return null!=e?e.name:""}getCarforSVG(t){const e=this.carData.find((e=>e.id===t));return null!=e?e:void 0}getWinnersDataForTable(){const t=[];return this.winnersData.forEach((e=>{const n=this.getCarforSVG(e.id);if(null!=n){const e=new i.default(n,this.emitter).createCarSvg(n.color,n.id);null!==e&&t.push(e)}})),this.winnersData.map(((e,n)=>{const r=t[n]??null;return{number:(n+1).toString(),car:r??"",name:this.getCarNameById(e.id),wins:e.wins.toString(),bestTime:e.time.toString()}}))}}},531:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=r(n(785));n(17);const i=r(n(294));class s extends a.default{constructor(t,e,n){super({tag:"div",classes:["winners-container"],textContent:"text",parentSelector:"body"}),this.emitter=n,this.data=t,this.winners=this.data.winnersData,this.cars=e.garage.garage}drawWinnersContainer(t=1){const e=document.querySelector(".winners-container");if(null!==e){const n=document.createElement("header");n.classList.add("winners-header"),n.textContent=`Winners: ${this.data.totalCount}`,e.append(n);const r=document.createElement("h2");r.classList.add("page-number"),r.textContent=`Page: ${t}`,e.append(r);const a=document.createElement("div");a.classList.add("table-container"),e.append(a);const s=new i.default(this.cars,this.winners,this.emitter).getElement();void 0!==s&&a.append(s);const o=document.createElement("div");o.classList.add("pageButtons-container"),e.append(o);const l=document.createElement("div");l.classList.add("prev-button"),l.textContent="prev",l.addEventListener("click",(()=>this.emitter.emit("prevButtonWinnersClicked",t))),o.append(l);const c=document.createElement("div");c.classList.add("next-button"),c.textContent="next",c.addEventListener("click",(()=>this.emitter.emit("nextButtonWinnersClicked",t))),o.append(c)}}updateWinnersData(t,e){this.data=e,this.winners=this.data.winnersData,this.cars=t.garage.garage}}e.default=s},222:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.element=null,this.createElement(t)}getElement(){return this.element}createElement(t){this.element=document.createElement(t.tag),null!=t.classes&&this.setCSSClass(t.classes),null!==t.textContent&&void 0!==t.textContent&&this.setTextContent(t.textContent),null!=t.callback&&this.setCallback(t.callback),null!==t.parentSelector&&void 0!==t.parentSelector&&this.addParentNode(t.parentSelector),null!=t.attributes&&this.setAttributes(t.attributes)}setCSSClass(t){t.forEach((t=>{null!==this.element&&this.element.classList.add(t)}))}setTextContent(t){null!==this.element&&(this.element.textContent=t)}setCallback(t){null!==this.element&&"function"==typeof t&&this.element.addEventListener("click",(e=>{t(e)}))}addParentNode(t){const e=document.querySelector(t);null!==this.element&&null!==e&&e.appendChild(this.element)}setAttributes(t){if(null!==this.element)for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&this.element.setAttribute(e,t[e])}}},785:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=r(n(222));e.default=class{constructor(t){this.params=t,this.element=null,this.draw(this.params)}getHTMLElement(){return this.element}draw(t){const e={tag:t.tag,classes:t.classes},n=new a.default(e);this.element=n.getElement()}}},607:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=r(n(717));n(89),async function(){const t=new a.default;await t.start()}().catch((t=>{console.error("An error occurred during starting the app:",t)}))},604:(t,e)=>{var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.TableColName=e.Endpoint=void 0,function(t){t.Garage="/garage",t.Engine="/engine",t.Winners="/winners"}(n||(e.Endpoint=n={})),function(t){t.number="Number",t.car="Car",t.name="Name",t.wins="Wins",t.bestTime="Best time (seconds)"}(r||(e.TableColName=r={}))},550:(t,e,n)=>{t.exports=n.p+"de3631e05da82dade514.png"}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={id:r,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&!t;)t=r[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0,n(607)})();